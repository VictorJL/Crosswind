var title := g_nucleus.stage.create_scene()

var init = fun[title](){

	auto window_size := g_nucleus.core.video.window.get_size()

    auto main_camera := title.create_camera(window_size)
    title.set_camera("main_camera", main_camera)


    auto sega_logo := title.create_actor()

    var sega_init = fun[sega_logo](){
        auto window_size = g_nucleus.core.video.window.get_size();

        sega_logo.add_model("sega_logo",
                        vec3(0.0f, 0.0f, 0.0f),
                        vec3(-100.0f * 640.0f/320.0f, -100.0f*480.0f/224.0f, 0.0f),
                        "sega_logo.json");
    }

    var sega_deinit = fun[sega_logo](){

    }

    var sega_logic  = fun[sega_logo](delta){

    }

    sega_logo.construct(sega_init, sega_deinit, sega_logic)

    title.add_actor("sega_logo", sega_logo)

    sega_logo.init()

    title.get_camera("main_camera").set_position(vec3(0.0f, 0.0f, 0.0f));
    g_nucleus.core.video.window.set_clear_color(vec4(1.0f, 1.0f, 1.0f, 1.0f))


}

var deinit = fun[title](){
    
}

var logic  = fun[title](delta){
    
}

title.construct(init, deinit, logic)

g_nucleus.stage.add_scene("title", title)
g_nucleus.stage.load_scene("title")